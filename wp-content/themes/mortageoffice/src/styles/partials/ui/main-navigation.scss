/* stylelint-disable  declaration-no-important */

.sub-menu {
	position: absolute;
	z-index: 1 !important;
	top: 45px !important;
	width: 558px !important;
	margin-top: 15px !important;
	padding: 0 !important;
	background: none !important;
	@include respond-to($large,max) {
		top: 0 !important;
		left: 0!important;
		width: 100% !important;
		overflow: scroll;
		background-color: #FFFFFF !important;
	}
	@include respond-to($large,min) {
		transform: translateX(-25%) !important;
	}
}

.menu.main-menu .menu-item.menu-item-has-meganav .menu-item-object-wp_block {
	width: 558px !important;
	margin-left: 0 !important;

	@include respond-to($large,max) {
		width: 100% !important;
		margin-top: 5px !important;
	}
}

.main-menu li {
	color: var(--wp--preset--color--charcoal);
	font-size: 16px;
	font-weight: 700;
	letter-spacing: 0.10000000149011612px;
	line-height: 24px;

	@include respond-to($large,max) {
		font-size: 15px;
	}
}

.menu.main-menu .menu-item:not(.menu-item-has-meganav) .menu-item-link.depth-0+.sub-menu {
	z-index: -1 !important;
	width: 212px !important;
	margin-left: 17px;
	padding: 24px 32px 20px 38px !important;
	border: 1px solid #D7D7E4 !important;
	border-radius: 24px;
	background-color: #FFFFFF !important;
	color: var(--wp--preset--color--charcoal) !important;
	@include respond-to($large,max) {
		z-index: 1 !important;
		top: 0 !important;
		left: 0!important;
		width: 100% !important;
		height: var(--nav-height);
		padding: 0 !important;
		border: none !important;
		border-radius: 0 !important;
		background-color: #FFFFFF !important;
	}
}

.menu.main-menu .sub-menu .menu-item-link {
	font-size: 16px;
	font-weight: 500;
	letter-spacing: 0.10000000149011612px;
	line-height: 43px;
}

.main-menu-column {
	@include respond-to($large,max) {
		flex-direction: column;
		max-width: 100%;
		margin: 0 !important;
		padding: 0 24px !important;
		border: none !important;
		border-radius: 0 !important;
	}
}

.menu.main-menu .go-back {
	margin-top: 10px;
	background: none;
	font-size: 14px !important;
	font-weight: 500 !important;
	line-height: 24px !important;
	text-transform: none;
	cursor: pointer;

	&::before {
		top: 9px !important;
		left: 0 !important;
		width: 16px !important;
		height: 16px !important;
		margin: 0 0 3px 6px !important;
		transform: none !important;
		background-image: url('../src/images/back-arrow.png') !important;
		background-repeat: no-repeat !important;
		content: '' !important;

		@include respond-to($navigation,min) {
			top: 4px !important;
		}
	}
}

.menu.main-menu {
	.wp-block-button__link {
		font-size: var(--wp--preset--font-size--small);
	}

	> .menu-item {
		position: relative;

		@include respond-to($large,max) {
			position: unset;
			width: 100%;
		}

		> .menu-item-link {
			&::before {
				@include respond-to($large,min) {
					position: absolute;
					bottom: -5px;
					left: 0;
					width: auto;
					min-width: 0;
					height: 3px;
					background-color: var(--wp--preset--color--mint);
					content: '';
					transition: 0.3s ease all;
				}
			}
		}
	}

	> .menu-item:hover,
	> .menu-item.active {
		> .menu-item-link::before {
			min-width: 100%;
			transition: 0.3s ease all;
		}

		> .menu-item-link {
			color: currentColor;

			.sub-menu-toggle::after {
				transform: rotate(180deg) !important; //stylelint-disable-line
				transition: 0.3s ease all;
			}
		}
	}

	.menu-item .sub-menu {
		.sub-menu {
			padding: calc(0.125 * var(--gap)) 0 calc(0.25 * var(--gap));
			clip-path: none;
		}
	}
}

.industries-li {
	ul {
		@include respond-to($large,min) {
			margin-left: auto !important;
		}
	}
}

.insights-li {
	ul {
		@include respond-to($large,min) {
			margin-left: -20px !important;
			transform: none !important;
		}
	}
}

.main-menu {
	gap: 32px;

	@include respond-to($xlarge,max) {
		gap: 24px;
	}
	@include respond-to($large,max) {
		flex-direction: column;
		padding: 0 24px;
	}
}

.menu-item-link {
	&:hover {
		text-decoration: none !important;
	}
}

.menu.main-menu .sub-menu .menu-item-link {
	min-width: 0 !important;
	padding-left: 25px !important;
}

.menu .sub-menu-toggle {
	display: block;
	cursor: pointer;

	&::after {

		@include respond-to($large,min) {
			position: absolute;
			top: 25px !important;
			left: 4px !important;
			width: 15px !important;
			height: 22px !important;
			transform: none !important;
			background-image: url('../src/images/back-arrow.png') !important;
			background-repeat: no-repeat !important;
			content: '' !important;
		}
	}
}

.header .header-content {
	align-items: end !important;
}

.header {
	@include respond-to($xlarge,max) {
		padding: 0 24px;
	}

	.home-link {
		@include respond-to($xlarge,max) {
			max-width: 125px;
		}
	}
}

.main-menu-toggle {
	@include respond-to($large,max) {
		display: block !important;
	}
}

.nav-open .header .menus {
	@include respond-to($large,max) {
		clip-path: inset(0 0 0 0);
	}
}

.header .menus {
	@include respond-to($large,max) {
		--nav-height: calc(100vh - var(--header-height));
		position: absolute;
		top: var(--header-height); /* Move this above padding-bottom */
		left: 0;
		display: flex;  /* Move display before transform */
		flex-direction: column-reverse;
		justify-content: flex-end;
		width: 100%;
		height: calc(100vh - 62px);
		height: var(--nav-height);
		padding-top: var(--wp--custom--gutter-width--page);
		padding-bottom: calc(2 * var(--wp--custom--gutter-width--page));
		clip-path: inset(0 0 calc(100vh - 62px) 0);
		clip-path: inset(0 0 var(--nav-height) 0);
		transform: translateX(0) !important;
		background-color: var(--wp--custom--colors--body-bg);
		color: var(--wp--custom--colors--body);
		transition: clip-path 0.3s ease-out;
		pointer-events: none;
		gap: var(--wp--custom--gutter-width--page); /* Make sure it's after 'top' */
	}
}

// .nav-open .header .menus {
// 	clip-path: inset(0 0 0 0);
// 	pointer-events: all;
// }

.hide-on-desktop:not(.block-editor-block-list__block) {
	@include respond-to($navigation,min) {
		position: relative !important;
		width: 100%;
		height: auto;
		overflow: visible;
		clip: rect(1px,1px,1px,1px);
		white-space: nowrap;
	}
	@include respond-to($large,min) {
		display: none !important;
	}
}

// .menu.main-menu .menu-item.menu-item-has-meganav>.sub-menu {
// 	@include respond-to($navigation,min) {
// 		display: block !important;
// 	}
// }

.menu.main-menu .menu-item-link {
	@include respond-to($navigation,1023px) {
		position: relative !important;
		padding: 6px 24px !important;
	}
}

.menu.main-menu .menu-item.menu-item-has-meganav>.sub-menu .menu-item-link {
	padding-left: 25px !important;
}

.header .menu.utility-menu {
	@include respond-to($large,max) {
		justify-content: center;
	}
}

.header-search .search-form-wrapper {
	@include respond-to($large,max) {
		width: 100%;
		max-width: 100%;
	}
}

.header-search {
	@include respond-to($large,max) {
		align-self: center;
	}
}

.footer-nav .menu-item .sub-menu {
	top: auto !important;
	display: block !important;
	width: auto !important;
	transform: none !important;

	@include respond-to($large,max) {
		left: auto !important;
		// padding: 0 24px !important;
	}
}

.footer-content {
	background-color: #FFFFFF !important;
}

.career-li {
	@include respond-to($navigation,max) {
		margin-top: 40px !important;
	}
}
